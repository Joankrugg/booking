<!-- app/views/admin/categories/index.html.erb -->
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">Catégories</h1>
    <%= link_to "Nouvelle catégorie", new_admin_category_path, class: "btn btn-primary" %>
  </div>

  <table class="table table-striped align-middle">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Slug</th>
        <th class="text-end">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @categories.each do |c| %>
        <tr>
          <td><%= c.name %></td>
          <td><code><%= c.slug %></code></td>
          <td class="text-end">
            <%= link_to "Modifier", edit_admin_category_path(c), class: "btn btn-sm btn-outline-secondary" %>
            <%= link_to "Supprimer", admin_category_path(c),
                  class: "btn btn-sm btn-outline-danger",
                  data: { turbo_method: :delete, turbo_confirm: "Supprimer cette catégorie ?" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
